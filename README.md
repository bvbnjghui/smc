# SMC 策略分析儀

這是一個基於 **Smart Money Concept (SMC)** 交易策略的專業級網頁應用程式，專為加密貨幣交易者設計。應用程式能夠自動化分析 K 線數據，在圖表上精確標示關鍵市場結構，並提供完整的策略回測與參數優化功能，幫助交易者做出更明智的決策。

## ✨ 核心特色

- 🏗️ **專業級 SMC 分析引擎** - 精確識別 BOS、CHoCH、OB、FVG 等關鍵市場結構
- 📊 **完整回測模擬器** - 支持雙策略模型與多維度過濾器
- 🎯 **智能參數優化** - 基於統計分析的自動化參數優化工具
- 📱 **PWA 離線支援** - 可安裝至桌面或手機，支援離線使用
- 🎨 **現代化 UI/UX** - 基於 Tailwind CSS 的美觀介面

詳細的開發歷程與版本更新，請參閱 [CHANGELOG.md](CHANGELOG.md)。

## 🏗️ 專案架構

本專案採用現代化的**前後端分離架構**，前端使用元件化設計，後端提供 RESTful API。所有程式碼都經過精心模組化，以確保高度的可維護性與可擴展性。

### 前端 (Frontend)

**技術棧:** HTML, Tailwind CSS, Alpine.js, TradingView Lightweight Charts

#### 核心檔案結構:
```
├── index.html                 # 應用程式 UI 骨架
├── main.js                    # 應用程式主入口與邏輯協調者
├── manifest.json              # PWA 設定檔案
├── sw.js                      # Service Worker (離線快取)
│
├── modules/                   # 核心商業邏輯模組
│   ├── state-manager.js       # 狀態管理器 (設定持久化)
│   ├── smc-analyzer.js        # SMC 分析引擎
│   ├── chart-controller.js    # 圖表控制器
│   ├── api.js                 # API 通信模組
│   │
│   ├── backtester/            # 回測引擎
│   │   ├── index.js           # 回測主協調器
│   │   ├── trade-manager.js   # 交易管理
│   │   ├── setup-manager.js   # 設定管理
│   │   └── signal-finder.js   # 信號尋找
│   │
│   └── optimization/          # 參數優化系統
│       ├── config.js          # 優化配置
│       ├── optimizer.js       # 優化引擎
│       └── results.js         # 結果處理與分析
│
└── components/                # UI 元件 (HTML)
    ├── header.html            # 頁首元件
    ├── sidebar.html           # 側邊欄元件
    ├── help-modal.html        # 說明視窗
    ├── simulation-*.html      # 回測相關視窗
    └── optimization-*.html    # 優化相關視窗
```

### 後端 (Backend)

**技術棧:** Node.js, Express.js

#### 核心檔案:
- `server.js` - Express 服務器主檔案
- `package.json` - 依賴管理
- `Dockerfile` - Docker 容器化配置

## 🚀 核心功能

### 1. 🧠 進階 SMC 分析引擎
- **精確市場結構識別**: 自動區分 BOS (趨勢延續) 與 CHoCH (趨勢轉變)
- **關鍵區域標示**: 自動識別 BSL/SSL (流動性掠奪)、OB (訂單塊)、FVG (公平價值缺口)、Breaker Block (突破塊)
- **多時間週期分析 (MTA)**: 在主圖表上疊加更高時間週期的關鍵 POI
- **穩健指標計算**: EMA、ATR 等指標始終基於完整數據集計算

### 2. 📈 專業級策略回測模擬器
- **雙策略進場模型**:
  - **反轉確認型**: 等待 CHoCH 信號確認，優先考慮勝率
  - **區域反應型**: 直接在關鍵 POI 處進場，優先考慮點位

- **進場權重策略 (Confluence Scoring)**: 專業權重計分系統，過濾低品質信號
- **完整歷史數據支持**: 分頁請求邏輯，支持任意時間範圍的完整數據
- **進階交易管理**: 支持分批止盈、保本止損等專業策略
- **多維度過濾器**: HTF 偏好、交易時段、EMA 趨勢、ATR 動態止損

### 3. 🎯 智能參數優化系統
- **自動化參數優化**: 基於統計分析的批量測試
- **參數敏感度分析**: 評估各參數對績效的影響程度
- **智能優化建議**: 結合相關性分析提供實用的改進建議
- **多種優化算法**: 支持網格搜索和隨機搜索
- **結果匯出**: CSV 格式的詳細優化報告

### 4. 🎨 現代化使用者體驗
- **元件化架構**: 動態載入的 HTML 元件，提升性能
- **自訂交易對管理**: 本地儲存的個人化交易對列表
- **智能教學系統**: 系統化的操作指南和 Tooltip 說明
- **PWA 離線支援**: 可安裝至桌面，支持離線使用
- **響應式設計**: 完美適配桌面和移動設備

## 🔮 未來開發規劃

### 🚀 進階功能擴展
- **視覺化交易記錄**: 在圖表上直接繪製模擬交易的進場、出場、止損、止盈線
- **順勢交易策略**: 基於 BOS 邏輯開發專門的趨勢延續回測模型
- **機器學習整合**: 引入 AI 算法進行更智慧的參數優化
- **多資產支持**: 擴展支持股票、外匯等其他金融市場

### 📊 數據分析強化
- **績效指標擴展**: 添加最大回撤、夏普比率、索提諾比率等專業指標
- **走勢分析**: 提供月度/季度績效分析和季節性走勢圖
- **風險分析**: 加入 VaR (風險價值) 和壓力測試功能

### 🎨 使用者體驗優化
- **圖表匯出功能**: 支持將分析結果匯出為圖片或 PDF
- **個人交易日誌**: 整合交易記錄管理與圖表快照功能
- **主題切換**: 提供深色/淺色主題切換
- **鍵盤快捷鍵**: 提升操作效率的鍵盤快捷鍵支持

### 🔧 技術架構優化
- **WebSocket 即時數據**: 整合即時市場數據流
- **資料庫整合**: 添加持久化數據存儲
- **雲端同步**: 支持跨設備設定同步
- **API 擴展**: 提供 RESTful API 供第三方應用整合

## 📦 安裝與使用

### 環境需求
- Node.js 16.0 或更高版本
- 現代瀏覽器 (Chrome, Firefox, Safari, Edge)

### 快速開始

1. **克隆專案**
   ```bash
   git clone <repository-url>
   cd smc-analyzer
   ```

2. **安裝後端依賴**
   ```bash
   npm install
   ```

3. **啟動服務器**
   ```bash
   npm start
   ```

4. **開啟應用程式**
   - 開啟瀏覽器訪問 `http://localhost:3000`
   - 或直接開啟 `index.html` 文件

### PWA 安裝
1. 在 Chrome/Edge 中開啟應用程式
2. 點擊地址欄的安裝圖示
3. 按照提示完成安裝

## 🤝 貢獻指南

歡迎提交 Issue 和 Pull Request！

### 開發環境設定
1. Fork 此專案
2. 建立功能分支: `git checkout -b feature/amazing-feature`
3. 提交變更: `git commit -m 'Add amazing feature'`
4. 推送分支: `git push origin feature/amazing-feature`
5. 開啟 Pull Request

## 📄 授權條款

本專案採用 MIT 授權條款 - 詳見 [LICENSE](LICENSE) 文件

## ⚠️ 免責聲明

本應用程式提供的所有資訊與圖表分析僅為 SMC 交易策略的教學與範例說明，不構成任何財務或投資建議。所有交易皆存在風險，您必須為自己的交易決策負責。在進行任何實際交易前，請務必進行充分的研究並做好風險管理。

---

**⭐ 如果這個專案對您有幫助，請給我們一個 Star！**